--- a/sshd.c
+++ b/sshd.c
@@ -48,6 +48,10 @@
 #include <string.h>
 #include <unistd.h>
 #include <limits.h>
+
+/* Android compatibility for missing endpwent */
+void endpwent(void) { /* No-op implementation */ }
+
 #ifdef WITH_OPENSSL
 #include <openssl/evp.h>
 #include <openssl/rand.h>
